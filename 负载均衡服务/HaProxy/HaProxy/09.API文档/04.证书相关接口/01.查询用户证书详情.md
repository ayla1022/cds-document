---
title: 查询用户证书详情  
date: 2021-11-22 12:45:00
permalink: /pages/1233042/
article: true
---

#### 1.接口描述

**Action:** DescribeCACertificate

**描述:** 获取用户的证书详情

**请求地址:** cdsapi.capitalonline.net/lb

**请求方法:** GET

#### 2.请求参数

| 参数名        | 必选 | 类型   | 说明     |
| ------------- | ---- | ------ | -------- |
| CertificateId | 是   | string | 证书编号 |

#### 3.请求示例

```python
def get_user_caId(caId):
    """
    获取单个证书详情
    """
    action = "DescribeCACertificate"
    method = "GET"
    param = {
        "CertificateId": caId
    }
    url = get_signature(action, AK, AccessKeySecret, method, HAPROXY_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    result = json.dumps(result)  # json格式化
    print(result)
```

#### 4.返回参数

| 参数名          | 类型   | 说明                                               |
| --------------- | ------ | -------------------------------------------------- |
| Message         | string | 信息描述                                           |
| Code            | string | 状态码                                             |
| TaskId          | string | 任务编号                                           |
| Data            | dict   | 数据                                               |
| Certificate     | string | 证书信息                                           |
| PublicKey       | string | 公钥                                               |
| PirvateKey      | string | 私钥                                               |
| Domain          | string | 域名                                               |
| CertificateName | string | 证书名称，用户自定义名称                           |
| CertificateType | string | 证书类型                                           |
| Brand           | string | 证书品牌                                           |
| CertificateId   | string | 证书编号                                           |
| Organization    | string | 颁发机构                                           |
| StartTime       | string | 证书有效开始时间                                   |
| EndTime         | string | 证书有效结束时间                                   |
| Valid           | int    | 是否有效，0:过期的 1:有效的 2:即将过期的（30天内） |

#### 5.返回示例

```python
{
    "Code": "Success",
    "Data": {
        "Brand": "Encryption Everywhere DV TLS CA - G1",
        "Certificate": "-----BEGIN CERTIFICATE-----\n******\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n******\n-----END CERTIFICATE-----\n", 
        "CertificateId": "******",
        "CertificateName": "******",
        "CertificateType": "DV",
        "Domain": "******",
        "EndTime": "2021-02-25 12:00:00",
        "Organization": "DigiCert Inc",
        "PirvateKey": "-----BEGIN RSA PRIVATE KEY-----\n******=\n-----END RSA PRIVATE KEY-----\n",
        "PublicKey": "-----BEGIN PUBLIC KEY-----\n******\n-----END PUBLIC KEY-----\n",
        "StartTime": "2020-02-26 00:00:00",
        "Valid": 1
    },
    "Message": "Success.",
    "TaskId": ""
}
```

