---
title: 查询负载均衡HaProxy支持变更规格   
date: 2021-12-29 16:24:00
permalink: /pages/1233036/
article: true
---

## 1.接口描述

**Action**： DescribeLoadBalancersModifySpec

**描述**： 获取实例Ha的配置变更所支持的规格

**请求地址**： cdsapi.capitalonline.net/lb

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明     |
| :----------- | :--- | :----- | :------- |
| InstanceUuid | 是   | string | 实例编号 |

## 3.请求示例

```python
def get_haproxy_modify_spec(instance_uuid):
    """
    获取实例Ha的配置变更所支持的规格
    :param instance_uuid: 实例编号
    :return:
    """
    action = "DescribeLoadBalancersModifySpec"
    method = "GET"
    param = {
        "InstanceUuid": instance_uuid
    }
    url = get_signature(action, AK, AccessKeySecret, method, HAPROXY_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)
```

## 4.返回参数

| 参数名        | 类型   | 说明                         |
| :------------ | :----- | :--------------------------- |
| Message       | string | 信息描述                     |
| Code          | string | 状态码                       |
| TaskId        | string | 任务编号                     |
| Data          | dict   | 数据                         |
| ProductName   | string | 产品名称                     |
| RegionId      | string | 站点编号                     |
| CpuRam        | list   | 支持的规格列表               |
| CPU           | int    | 购买产吕CPU数量              |
| Name          | string | 购买产品名称                 |
| PaasGoodsId   | int    | 可购买的产品规格编号         |
| RAM           | int    | 购买产品内存大小             |
| AttachDisk    | list   | 该类型规格能够添加的磁盘类型 |
| BasicIops     | string | 基础IOPS大小                 |
| DiskMax       | int    | 最大磁盘大小                 |
| DiskMaxExpand | int    | 最大可扩展磁盘大小           |
| DiskMin       | int    | 最小磁盘大小                 |
| DiskName      | string | 磁盘类型                     |
| DiskStep      | int    | 磁盘增大步长                 |
| DiskUnit      | string | 磁盘单位                     |
| DiskValue     | string | 磁盘类型key                  |

## 5.返回示例

```python
{
    "Code": "Success",
    "Data": {
        "AttachDisk": [{
            "BasicIops": "3000",
            "DiskMax": 2000,
            "DiskMaxExpand": 2000,
            "DiskMin": 100,
            "DiskName": "性能型",
            "DiskStep": 100,
            "DiskUnit": "G",
            "DiskValue": "high_disk"
        }],
        "CpuRam": [{
            "CPU": 1,
            "N": "1C2G",
            "PaasGoodsId": 5072,
            "RAM": 2
        }, {
            "CPU": 2,
            "Name": "2C4G",
            "PaasGoodsId": 5075,
            "RAM": 4
        }, {
            "CPU": 4,
            "Name": "4C8G",
            "PaasGoodsId": 5078,
            "RAM": 8
        }, {
            "CPU": 8,
            "Name": "8C16G",
            "PaasGoodsId": 5081,
            "RAM": 16
        }],
        "ProductName": "haproxy 主从版",
        "RegionId": "CN_Hongkong_A"
    },
    "Message": "Success.",
    "TaskId": ""
}
```

