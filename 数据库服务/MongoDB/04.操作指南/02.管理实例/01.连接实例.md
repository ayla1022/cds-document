---
title: 连接实例
date: 2022-09-08 17:00:00
permalink: /pages/746017/
article: true
---

## 前置条件

- 已成功创建MongoDB实例，实例状态为运行中。
- 已创建好用于连接MongoDB的账号，详情参见[创建账号](./../../04.操作指南/03.账号管理/00.创建账号.md)。
- 已配置云服务器与MongoDB的网络连接规则，并[设置白名单](./../../04.操作指南/04.网络与安全/02.设置白名单.md)来限制访问MongoDB实例的IP。如果您允许同一私网网段的所有云服务器皆可访问MongoDB实例，可以跳过此步骤。

## 通过Mongo Shell 连接

Mongo Shell是MongoDB自带的数据库管理工具，您可以下载并安装Mongo Shell工具，用于连接云数据库MongoDB实例。

### 步骤1：准备环境

1. 登录到Linux云服务器。

2. 以Ubuntu系统的云服务器为例，安装Mongo Shell。

   1）执行下述命令下载MongoDB Shell安装包：

```
wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.28.tgz
```

> 说明:
>
> 本文以mongodb-linux-x86_64-4.0.28版本为例演示操作流程，您也可以安装其他版本。具体下载地址，详情参见[MongoDB Community Server下载](https://www.mongodb.com/try/download/community)。您选择MongoDB Shell版本时，请注意选择与云数据库 MongoDB 服务和云服务器操作系统相匹配的版本。

​      2）使用下述命令解压MongoDB Shell安装包：

```
tar zxvf mongodb-linux-x86_64-4.0.28.tgz
```

### 步骤2：连接MongoDB实例

1. 执行下述命令进入到解压后的目录。

```
cd mongodb-linux-x86_64-4.0.28
```

2. 获取连接信息并执行以下命令连接MongoDB 实例。

```
./bin/mongo -u<username> -p<password> 10.xx.xx.xx:27017,10.xx.xx.xx:27017/admin
```

> 说明：
>
> - <username>：云数据库 MongoDB 的账号名称，例如`-umongdbuser`，您可在实例[账号管理](./../../04.操作指南/03.账号管理/00.创建账号.md)页面获取。
> - <password>：云数据库 MongoDB 相应账号的密码，例如`-pmongo123！`，您可在实例[账号管理](./../../04.操作指南/03.账号管理/00.创建账号.md)页面获取。
> - 10.xx.xx.xx:27017：云数据库 MongoDB 的连接地址与端口号，您可在实例集群信息页面的基本信息栏获取，也可在[数据库连接](./../../04.操作指南/04.网络与安全/01.实例连接地址说明.md)页面查看。多个连接地址使用英文逗号分隔。

连接成功后提示信息如下所示：

```
MongoDB shell version v4.0.27
connecting to: mongodb://10.xx.xx.xx:27017/admin?gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("**********************") }
MongoDB server version: 4.0.3
```

> **说明**：
>
> - 副本集实例：您可以同时连接Primary节点和Secondary节点的连接地址保障连接的高可用。
>   - Primary 节点：副本集实例中的主节点，连接该节点可执行数据库的读写操作。
>   - Secondary 节点：副本集实例中的从节点，当主节点故障时，从节点自动接管业务，保证实例能够正常连接。
> - 分片集实例： 您可以连接任意一个 Ｍongos 节点的连接地址，也可以同时连接多个Mongos节点的连接地址保障连接的高可用。

## 通过客户端程序连接

云数据库MongoDB版完全兼容MongoDB协议，因此连接方式也基本相同。您可以根据实际业务情况选择任何兼容Redis协议的客户端程序.

常见的客户端程序有：

- MongoDB Java Drivers
-  PyMongo
- MongoDB C# Driver
- MongoDB C++ Driver
- MongoDB PHP Driver
- MongoDB Node.js Driver

关于MongoDB支持的客户端列表，详情参加[MongoDB Drivers](https://www.mongodb.com/docs/drivers/?spm=a2c4g.11186623.0.0.6c1f21eaBFeFOb)。
