---
title: Python连接示例
date: 2021-12-06 17:00:00
permalink: /pages/746014/
article: true
---


Python 驱动详情参见，[Python 驱动下载](https://pypi.python.org/pypi/pymongo/)。

#### Python原生示例代码一

```
#!/usr/bin/python
import pymongo
import random

mongodbUri = 'mongodb://username:password@10.xx.xx.xx:27017/admin'

client = pymongo.MongoClient(mongodbUri)
db = client.somedb
db.user.drop()
element_num=10
for id in range(element_num):
    name = random.choice(['R9','cat','owen','lee','J'])
    sex = random.choice(['male','female'])
    db.user.insert_one({'id':id, 'name':name, 'sex':sex})

content = db.user.find()
for i in content:
    print i
```

#### Python原生示例代码二

```
#!/usr/bin/python
import pymongo
mongodbUri = 'mongodb://username:password@10.xx.xx.xx:27017/admin'
client = pymongo.MongoClient(mongodbUri)
db = client.someonedb

inserted_id = db.somecoll.insert_one({"somekey":"test"}).inserted_id
print inserted_id

for doc in db.somecoll.find(dict(_id=inserted_id)):
        print doc

for doc in db.somecoll.find({"somekey":"test"}):
        print doc
```

输出：

```
5734431e101e2f6d699b37ef
{u'somekey': u'test', u'_id': ObjectId('5734431e101e2f6d699b37ef')}
{u'somekey': u'test', u'_id': ObjectId('5734431e101e2f6d699b37ef')}
```
