---
title: 查询云数据库MongoDB实例列表
date: 2021-12-06 17:00:00
permalink: /pages/746039/
article: true
---


### 1.接口描述

**Action**：DescribeDBInstances

**描述**：获取MongoDB实例列表（支持常见字段过滤:实例编号、实例名称、实例IP）

**请求地址**：cdsapi.capitalonline.net/mongodb/v1

**请求方法**：GET

### 2.请求参数

| 参数名       | 必选 | 类型   | 说明             |
| ------------ | ---- | ------ | ---------------- |
| InstanceUuid | 否   | string | 要过滤的实例编号 |
| InstanceName | 否   | string | 要过滤的实例名称 |
| IP           | 否   | string | 要过滤的实例ip   |

### 3.请求示例

```python
def get_mongodb_instances_list():
    """
    获取Mongodb实例列表(可根据ip、instance_uuid、instance_name过滤)
    """
    action = "DescribeDBInstances"
    method = "GET"
    param = {
        "IP": "66.66"  
    }
    url = get_signature(action, AK, AccessKeySecret, method, MONGODB_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)
```

### 4.返回参数

| 参数名          | 类型   | 说明                     |
| --------------- | ------ | ------------------------ |
| Code            | string | 状态码                   |
| Data            | dict   | 数据                     |
| CloneServices   | list   | 克隆的临时实例列表       |
| DisplayName     | string | 可用区                   |
| IP              | string | 数据库的连接的IP         |
| InstanceName    | string | 实例名称                 |
| InstanceUuid    | string | 实例编号                 |
| LinkType        | string | 链路类型名称             |
| LinkTypeStr     | string | 链路类型名称对应中文     |
| MasterInfo      | dict   | 从属集群，只读服务会有值 |
| Port            | int    | 连接的端口               |
| Ram             | int    | 内存 单位M               |
| RegionId        | string | 站点编号                 |
| RelationService | dict   | 相关联的服务实例         |
| Status          | string | 实例状态                 |
| StatusStr       | string | 状态对应的中文           |
| SubProductName  | string | 子产品的名字             |
| VdcId           | string | 数据中心的编号           |
| VdcName         | string | 数据中心名称             |
| Version         | string | 服务版本                 |
| Message         | string | 信息描述                 |

### 5.返回示例

```python
{
    "Code": "Success",
    "Data": [{
        "CloneServices": null,
        "DisplayName": "亚太地区-香港-可用区A",
        "IP": "66.66.0.44",
        "InstanceName": "test-mongodb",
        "InstanceUuid": "9a5a796c-78ab-4b1c-88a4-ba9d9e8c996b",
        "LinkType": "default_link",
        "LinkTypeStr": "默认链路",
        "MasterInfo": "",
        "Port": 27017,
        "Ram": 2048,
        "RegionId": "CN_Hongkong_A",
        "RelationService": null,
        "ResourceId": "71bf731e-7cc8-4307-8408-4952e4dcd470",
        "Status": "RUNNING",
        "StatusStr": "运行中",
        "SubProductName": "MongoDB 副本集版",
        "VdcId": "d459c74b-d60e-4f28-adbb-67be402f76f3",
        "VdcName": "香港PaaS",
        "Version": "4.0.3"
    }],
    "Message": "Success."
}
```

