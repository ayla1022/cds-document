---
title: 使用客户端连接
date: 2022-04-06 15:06:15
permalink: /pages/17129/
article: true
---

任何兼容 Memcached 协议的客户端都可以访问云数据库 Memcache版服务。因此您可以根据实际业务情况选择任何一款兼容Memcached协议的客户端程序。

## 前置条件

- 成功购买Memcached实例，实例状态为运行中。购买Memcached实例，详情参见[创建实例](./../../04.操作指南/01.管理实例/00.创建实例.md)。
- 已配置云服务器与Memcached的网络连接规则。Memcached实例允许同一私网网段的云服务器直接访问。

以下介绍两种常用客户端的连接方式。

## PHP连接

依赖：安装[PHP-Memcached](https://www.php.net/manual/zh/book.memcached.php)。

[PHP-memcached GitHub 源码](https://github.com/php-memcached-dev/php-memcached)

### 代码实例

```PHP
<?php
$memcached = new Memcached;#新建一个memcacheｄ连接实例
$memcached->setOption(Memcached::OPT_COMPRESSION, false); #关闭压缩功能
$memcached->setOption(Memcached::OPT_BINARY_PROTOCOL, false); #关闭二进制协议
$memcached->addServer("xxx.xx.xx.xxx", xxxx);#添加cmem服务器，指定cmem服务器IP和端口
$key = "php-key";
$memcached->set($key, "value-1-".time());#向cmem写入一个key
$val = $memcached->get($key);#向cmem获取一个key
var_dump ($val);
$memcached->quit();
?>
```

## Python连接

依赖：安装[Python-memcached](https://pypi.org/project/python-memcached/)。

```python
#!/usr/bin/env python
import memcache
mc = memcache.Client(['xxx.xx.xx.xxx:xxxx'],debug=0) #Memcached实例的服务IP和服务端口
mc.set("python-key","qcloud NoSQL Server")
value = mc.get("python-key")
print value
```

