---
title:使用C#的客户端Csredis的时候，出现:System.IO.EndOfStreamException: Unexpected end of stream; expected type 'Bulk'异常
date: 2021-12-29 17:42:55
permalink: /pages/477054/
article: true
---

## 问题原因

这种情况一般是连接出现了异常，未能做好异常处理，并且使用该异常的链接去读取数据，返回的数据不符合预期结果，抛出的错误。

## 解决方案

### 方法1

设置一下tryit参数，即出错重试，重试之前会关闭socket物理连接，重新connect。

### 方法2

设置redis的超时时间等于0（0表示不设置超时时间，即服务端不会主动断开连接）。