---
title: 获取Redis实例列表
date: 2021-12-20 13:27:41
permalink: /pages/477040/
article: true
---

#### 1.接口描述

**Action**：DescribeDBInstances

**描述**： 获取Redis实例列表（支持常见字段过滤:实例编号、实例名称、实例IP）

**请求地址**： cdsapi.capitalonline.net/redis

**请求方法**： GET

#### 2.请求参数

| 参数名       | 必选 | 类型   | 说明             |
| ------------ | ---- | ------ | ---------------- |
| InstanceUuid | 否   | string | 要过滤的实例编号 |
| InstanceName | 否   | string | 要过滤的实例名称 |
| IP           | 否   | string | 要过滤的实例IP   |

#### 3.返回参数

| 参数名          | 类型   | 说明                                                |
| --------------- | ------ | --------------------------------------------------- |
| RelationService | dict   | 相关联的服务实例                                    |
| CloneServices   | list   | 克隆的临时实例列表                                  |
| AppName         | string | 数据中心名称                                        |
| IP              | string | 数据库的连接的IP                                    |
| Port            | int    | 连接的端口                                          |
| Ram             | int    | 内存 单位M                                          |
| RegionId        | string | 站点编号                                            |
| VdcId           | string | 数据中心的编号                                      |
| MasterInfo      | dict   | 从属集群，只读实例会有值（Redis目前不支持只读实例） |
| LinkTypeStr     | string | 链路类型名称                                        |
| RoGroups        | list   | 只读实例列表（Redis目前不支持只读实例）             |
| SubProductName  | string | 子产品的名字                                        |
| Version         | string | 服务版本                                            |
| LinkType        | string | 链路类型：英文                                      |
| Status          | string | 实例状态                                            |
| StatusStr       | string | 状态对应的中文                                      |
| InstanceUuid    | string | 实例编号                                            |
| InstanceName    | string | 实例名称                                            |
| CreatedTime     | string | 实例创建时间                                        |

#### 4.请求示例

```python
def get_redis_instances_list():
    """
    获取Redis实例列表(支持常见字段过滤、instance_uuid/instance_name/ip)
    """
    action = "DescribeDBInstances"
    method = "GET"
    param = {
        "IP": "66.66"  # 根据ip查询
    }
    url = get_signature(action, AK, AccessKeySecret, method, REDIS_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)

```

#### 5.返回示例

```python
"Data": [{
        "CloneServices": null,
        "CreatedTime": "2020-03-13 15:38:35",
        "DisplayName": "中国大陆-北京-可用区H",
        "IP": "********",
        "InstanceName": "********",
        "InstanceUuid": "***************",
        "LinkType": "default_link",
        "LinkTypeStr": "默认链路",
        "MasterInfo": "",
        "Port": 9736,
        "Ram": 1024,
        "RegionId": "CN_Beijing_H",
        "RelationService": null,
        "ResourceId": "9e8e7d56-d394-4b8f-a2e3-51ca29048073",
        "RoGroups": null,
        "Status": "RUNNING",
        "StatusStr": "运行中",
        "SubProductName": "Redis 读写分离版",
        "VdcId": "cacdf937-d484-435a-894b-241be9309d80",
        "VdcName": "北京8",
        "Version": "2.8.19"
    }],
    "Message": "Success."
}
```

