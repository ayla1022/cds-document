---
title: 获取某个站点支持的Redis产品类型以及规格
date: 2021-12-17 11:48:39
permalink: /pages/477038/
article: true
---

#### 1.接口描述

**Action**：DescribeAvailableDBConfig

**描述**： 获取某个站点支持的Redis产品类型以及规格

**请求地址**： cdsapi.capitalonline.net/redis

**请求方法**： GET

#### 2.请求参数

| 参数名   | 必选 | 类型   | 说明     |
| -------- | ---- | ------ | -------- |
| RegionId | 是   | string | 站点编号 |

#### 3.返回参数

| 参数名  | 类型                | 说明                                                   |
| ------- | ------------------- | ------------------------------------------------------ |
| Code    | string              | 状态码                                                 |
| Data    | [DataObj](#DataObj) | 可购买的redis产品类型以及规格数据对象                  |
| Message | string              | 返回调用接口状态信息和code相对应，比如：Success, Error |
| TaskId  | string              | 任务Id, 暂时不支持根据任务查询任务状态                 |

##### DataObj

| 参数名      | 类型                              | 说明                   |
| ----------- | --------------------------------- | ---------------------- |
| ProductName | string                            | 产品名称,比如redis     |
| Products    | list of [ProductObj](#ProductObj) | 该类产品支持的产品列表 |
| RegionId    | string                            | 站点编号               |

##### ProductObj

| 参数名        | 类型                                        | 说明               |
| ------------- | ------------------------------------------- | ------------------ |
| Architectures | list of [ArchitectureObj](#ArchitectureObj) | 产品支持的架构列表 |
| Version       | string                                      | 产品支持的版本     |

##### ArchitectureObj

| 参数名           | 类型                                      | 说明                                                         |
| ---------------- | ----------------------------------------- | ------------------------------------------------------------ |
| ArchitectureName | string                                    | 架构名称                                                     |
| ArchitectureType | int                                       | 架构类型： 1-主从版 2-集群版 3-经济型主从版                  |
| ComputeRoles     | list of [ComputeRoleObj](#ComputeRoleObj) | 支持的计算类型，不同的计算类型支持不同规格，并支持添加不同类型的硬盘 |
| EnginesType      | string                                    | 引擎类型                                                     |
| NetworkLinks     | list of [NetworkLinkObj](#NetworkLinkObj) | 此架构支持的链路类型                                         |
| SubProductName   | string                                    | 子产品名称，比如：Redis 经济型主从、Redis 主从版、Redis 集群版 |

##### ComputeRoleObj

| 参数名      | 类型                        | 说明                                                |
| ----------- | --------------------------- | --------------------------------------------------- |
| ComputeName | string                      | 计算类型名称， 比如：通用型                         |
| ComputeType | int                         | 支持的计算类型(目前仅支持通用型计算类型)： 0-通用型 |
| Standards   | [StandardObj](#StandardObj) | 该类型支持的规格                                    |

##### StandardObj

| 参数名     | 类型                                    | 说明                             |
| ---------- | --------------------------------------- | -------------------------------- |
| AttachDisk | list of [AttachDiskObj](#AttachDiskObj) | 该类型规格能够添加的磁盘类型列表 |
| CpuRam     | list of [CpuRamObj](#CpuRamObj)         | 支持的规格列表                   |

##### AttachDiskObj

| 参数名        | 类型   | 说明                                                         |
| ------------- | ------ | ------------------------------------------------------------ |
| BasicIops     | string | 基础的磁盘的iops                                             |
| DiskMax       | int    | 单次支持扩容到最大磁盘容量为2000                             |
| DiskMaxExpand | string | 磁盘最大可扩容大小                                           |
| DiskMin       | string | 磁盘容量支持的最小值，起步为100                              |
| DiskName      | string | 磁盘类型名称，包含SSD和性能型 SSD：SSD磁盘，磁盘IOPS默认为5000，可购买IOPS性能包 性能型：普通SSD盘，磁盘IOPS限定在3000 |
| DiskStep      | string | 磁盘扩容步长，步长大小=100                                   |
| DiskUnit      | string | 磁盘容量单位：GB                                             |
| DiskValue     | string | 磁盘类型,用于创建服务实例指定磁盘类型 (创建服务时候使用)     |

##### CpuRamObj

| 参数名      | 类型   | 说明                                           |
| ----------- | ------ | ---------------------------------------------- |
| CPU         | int    | 核心数量，单位：个                             |
| Name        | string | 规格名称                                       |
| PaasGoodsId | int    | 具体的产品编号，根据产品编号确定购买哪一种规格 |
| RAM         | int    | 内存大小，单位：GB                             |

##### NetworkLinkObj

| 参数名     | 类型   | 说明           |
| ---------- | ------ | -------------- |
| DescDetail | string | 链路类型描述   |
| LinkType   | string | 链路类型“英文” |
| Name       | string | 链路类型“中文” |

#### 4.请求示例

```python
def get_redis_config():
    """
    获取某个站点支持的Redis产品类型以及规格
    """
    action = "DescribeAvailableDBConfig"
    method = "GET"
    param = {
        "RegionId": "CN_Hongkong_A"
    }
    url = get_signature(action, AK, AccessKeySecret, method, REDIS_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)
```

#### 5.返回示例

```python
{
    "Code": "Success",
    "Data": {
        "ProductName": "redis",
        "Products": [{
            "Architectures": [{
                "ArchitectureName": "经济型主从",
                "ComputeRoles": [{
                    "ComputeName": "通用型",
                    "Standards": {
                        "AttachDisk": [{
                            "BasicIops": "",
                            "DiskMax": 2000,
                            "DiskMaxExpand": 2000,
                            "DiskMin": 100,
                            "DiskName": "SSD",
                            "DiskStep": 100,
                            "DiskUnit": "G",
                            "DiskValue": "ssd_disk"
                        }],
                        "CpuRam": [{
                            "CPU": 0,
                            "Name": "1G",
                            "PaasGoodsId": 12188,
                            "RAM": 1
                        }]
                    }
                }],
                "EnginesType": [],
                "NetworkLinks": [{
                    "DescDetail": "默认链路：服务实例占用VDC私有网络IP地址，适用于对延迟敏感类型的应用。",
                    "LinkType": "default_link",
                    "Name": "默认链路"
                }],
                "SubProductName": "Redis 经济型主从"
            }],
            "Version": "2.8"
        }],
        "RegionId": "*******"
    },
    "Message": "success",
    "TaskId": ""
}
```

