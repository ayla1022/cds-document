---
title: 恢复数据
date: 2021-12-13 13:36:25
permalink: /pages/477024/
article: true
---

## 恢复数据简介

云数据库Redis支持两种恢复方式。一种是基于备份文件恢复至现有实例，实现数据回档。另一种是将备份文件恢复至同一可用区下的指定实例，实现数据克隆。实例恢复将清空原有实例的数据，将指定的备份数据恢复到实例中，恢复过程中实例无法访问，不能对外提供服务。您可以在[控制台](https://console.capitalonline.net/dbinstances)的备份恢复页面的备份列表中根据实际业务需要选择任一恢复方式进行恢复。

## 前置条件

Redis实例已备份完成，备份操作详情参见[备份数据](./00.备份数据.md)。

## 操作步骤

### 覆盖性恢复实例

1. 登录[云数据库Redis控制台](https://console.capitalonline.net/dbinstances)，点击**实例名称**进入到实例管理页面。
2. 点击**备份恢复**，进入实例备份恢复页面。
3. 在备份列表中选择需要恢复的备份文件，点击**恢复**，打开恢复实例弹框。

![030](../../pics/030.png)

4. 恢复方式选择**覆盖性恢复实例**，点击**确认**，实例状态进入备份恢复中。待实例状态恢复至运行中，即可正常使用。

![031](../../pics/031.png)

> 说明：
>
> - 备份恢复后，现有实例的数据将被覆盖，且无法恢复。
>
> - 如果Redis实例进行过降配操作，您需要保证当前实例规格大于恢复后数据容量，否则会导致数据恢复失败。

### 恢复至目标实例

1. 登录[云数据库Redis控制台](https://console.capitalonline.net/dbinstances)，点击**实例名称**进入到实例管理页面。
2. 点击**备份恢复**，进入实例备份恢复页面。
3. 在备份列表中选择需要恢复的备份文件，点击**恢复**，打开恢复实例弹框。

4. 恢复方式选择**恢复至目标实例**，选择指定的目标实例，点击**确认**，将当前实例的备份数据恢复至目标实例中。

![102](../../pics/102.png)

> 注意：
>
> - 目标实例的区域必须与当前实例一致，且服务版本和架构类型都与当前实例相同。
> - 为避免恢复失败，目标实例的规格要求大于或等于当前备份文件大小的6倍。
> - 当前备份文件数据恢复到目标实例后，目标实例的原数据将被覆盖，且无法恢复。**因此建议您在恢复前对目标实例进行一次备份**，待备份任务完成后再进行恢复数据操作。
