---
title: 调整配置
date: 2021-12-03 17:00:00
permalink: /pages/1206020/
article: true
---

## 调整配置

### 操作场景

根据您的业务情况，您可以在控制台灵活修改您的 MySQL 实例配置，从而降低成本以及使资源得到充分利用。调整资源费用变更详情参见 [调整实例费用说明](./../../03.购买指南/04.调整实例费用说明.md)。

### 配置规则

- MySQL 实例状态为运行中
- 配置变更中状态禁止再进行调整配置操作
- 配置变更中状态禁止进行用户权限管理
- 配置变更中状态禁止修改参数
- 配置变更时，会进行切换有 10-30s 左右闪断，请确保业务具备重连机制。建议在实例维护时间内调整配置
- **MySQL 基础版**，在调整配置过程中，存在大约 5 分钟实例不可用的情况，建议在业务低峰期操作
- 存储类型在实例创建时已经确定，**不可更改**，只能添加相同类型硬盘，且存储空间无法降低
- 增加存储空间时不能超过该规格的存储空间限制，存储大小可选范围为 0-2000GB（单盘），但最高可以添加 13 块硬盘
- 为了保障磁盘性能相同，添加硬盘时，预置性能包份数需与创建时一致

### 控制台修改

#### 操作步骤

1. 进入 [云数据库 MySQL 控制台](https://console.capitalonline.net/dbinstances)，在实例列表中选择需要调整资源的实例，点击实例名称进入实例管理页面。

2. 在基本信息中找到 **规格配置** 模块，点击计算规格后的 **修改** 或存储大小后的 **添加** 。

   ![调整配置-控制台调整](./../../pic/adjust_console.png)

3. 在调整配置页面选择您要调整的配置，确认后点击 **提交**，当执行时间选择立即执行时，点击确认后将对实例进行变更配置，选择可维护时间内，点击确认后将在维护时间内进行变更配置。维护信息配置详情参见 [设置维护时间](./04.设置维护时间.md)。

   ![调整配置-调整配置](./../../pic/adjust_specification.png)

### API修改

通过 API 调整云数据库 MySQL 实例配置，详情参见 [修改云数据库MySQL实例规格](./../../08.API文档/02.实例相关接口/05.修改云数据库MySQL实例规格.md)。

### 常见问题

#### 1.调整数据库实例规格，对实例有什么影响吗？

- **MySQL 主从版**：在调整配置过程中，会进行切换有 10-30s 左右闪断，请确保业务具备重连机制。建议在实例维护时间内调整配置。
- **MySQL 基础版**：在调整配置过程中，存在大约 5 分钟实例不可用的情况，建议在业务低峰期操作。

#### 2.为什么我的数据库无法降配？

存储类型在实例创建时已经确定，不可更改，且存储空间无法降低。

#### 3.控制台调整配置后，为什么还显示运行中状态？

有可能是您在控制台调整配置时，选择的执行时间为 **可维护时间内**，导致无法立即执行。 如您需立即切换，可在实例管理页的基本信息下找到维护信息模块，点击 **查看维护时间任务**，在弹出的窗口中选择您刚才调整配置任务，点击 **编辑** 进行重新配置即可。详情参见 [设置维护时间](./04.设置维护时间.md)。切换会有秒级别闪断，请确保业务具备重连机制。

![调整配置-可维护时间](./../../pic/adjust_time.png)

#### 4.调整实例配置后，我需要等待多长时间才能生效？

数据库的升级时间和您当前数据库中的数据量的大小以及数据复制读有关，具体时间无法进行预估。
升级过程中不会影响您当前实例的正常使用，在升级完成切换时会有秒级的瞬断。
