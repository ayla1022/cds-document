---
title: 修改云数据库MySQL自动备份设置
date: 2022-03-07 17:00:00
permalink: /pages/1206097/
article: true
---


## 1.接口描述

**Action**：ModifyDbBackupPolicy

**描述**： 修改云数据库MySQL高可用版自动备份设置

**请求地址**： cdsapi.capitalonline.net/mysql

**请求方法**： POST

## 2.请求参数

| 参数名       | 必选 | 类型                                     | 说明                     |
| :----------- | :--- | :--------------------------------------- | :----------------------- |
| InstanceUuid | 是   | string                                   | 要修改备份设置的实例编号 |
| DataBackups  | 是   | object of [DataBackups](#databackupsobj) | 备份设置                 |

### DataBackupsObj

| 参数名   | 必选 | 类型           | 说明                                                         |
| :------- | :--- | :------------- | :----------------------------------------------------------- |
| TimeSlot | 是   | string         | 备份时间段，以整点开始，整点结束，间隔为一小时。<br />输入参数范围：["00:00-01:00","01:00-02:00","02:00-03:00","03:00-04:00","04:00-05:00","05:00-06:00","06:00-07:00","07:00-08:00","08:00-09:00","09:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","13:00-14:00","14:00-15:00","15:00-16:00","16:00-17:00","17:00-18:00","18:00-19:00","19:00-20:00","20:00-21:00","21:00-22:00","22:00-23:00","23:00-24:00"] |
| DateList | 是   | list of string | 备份周期，输入参数范围：["0","1","2","3","4","5","6"]，0为星期日，1为星期一，以此类推 |
| Sign     | 是   | int            | 自动备份开关，关闭：0 ，开启：1                              |

## 3.请求示例

```python
def modify_mysql_backup_policy(instance_uuid):
    """
    修改云数据库MySQL高可用版自动备份设置
    :param instance_uuid: 实例编号
    """
    action = "ModifyDbBackupPolicy"
    method = "POST"
    param = {}
    url = get_signature(action, AK, AccessKeySecret, method, MYSQL_URL, param=param)
    body = {
        "InstanceUuid": instance_uuid,
        "DataBackups": {
            "TimeSlot": "13:00-14:00",
            "DateList": ["0", "1", "2", "3", "4", "5", "6"],
            "Sign": 1
        }
    }

    res = requests.post(url, json=body)
    result = json.loads(res.content)
    print(result)
```

## 4.返回参数

| 参数名  | 类型   | 说明     |
| :------ | :----- | :------- |
| Message | string | 信息描述 |
| Code    | string | 状态码   |

## 5.返回示例

```json
{
    "Code": "Success",
    "Message": "success"
}
```

