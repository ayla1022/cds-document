---
title: 查询云数据库MySQL账号列表
date: 2022-07-20 17:00:00
permalink: /pages/1206092/
article: true
---


## 1.接口描述

**Action**：DescribeDBAccount

**描述**： 获取云数据库MySQL用户列表

**请求地址**：cdsapi.capitalonline.net/mysql

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明     |
| :----------- | :--- | :----- | :------- |
| InstanceUuid | 是   | string | 实例编号 |

## 3.请求示例

```python
def get_mysql_account():
    """
    获取云数据库MySQL用户
    """
    action = "DescribeDBAccount"
    method = "GET"
    param = {
        "InstanceUuid": "********************"
    }
    url = get_signature(action, AK, AccessKeySecret, method, MYSQL_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    result = json.dumps(result)  # json格式化
    print(result)
```

## 4.返回参数

| 参数名  | 类型                        | 说明                 |
| :------ | :-------------------------- | :------------------- |
| Message | string                      | 信息描述             |
| Code    | string                      | 状态码               |
| Data    | list of [DataObj](#dataobj) | 实例当前用户列表信息 |

### DataObj

| 参数名             | 类型                                                    | 说明                                                         |
| :----------------- | :------------------------------------------------------ | :----------------------------------------------------------- |
| AccountType        | string                                                  | 账号类型<br />高权限用户："Super"<br />普通用户："Normal"    |
| ServiceId          | string                                                  | 账号所属实例编号                                             |
| AccountStatus      | string                                                  | 账号状态<br />processing：处理中<br />available：已激活<br />unavailable：未激活 |
| AccountName        | string                                                  | 账号名称                                                     |
| AccountDescription | string                                                  | 账号描述                                                     |
| DatabasePrivileges | list of [DatabasePrivilegesObj](#databaseprivilegesobj) | 数据库权限详情                                               |
| ExtraPrivilege     | [ExtraPrivilegeObj](#extraprivilegeobj)                 | 附加权限                                                     |

### DatabasePrivilegesObj

| 参数名                 | 类型   | 说明                                                         |
| :--------------------- | :----- | :----------------------------------------------------------- |
| AccountPrivilegeType   | string | 数据库对应账号权限。<br />ReadWrite：读写权限<br />DMLOnly：仅DML<br />ReadOnly：只读权限<br />DDLOnly：仅DDL |
| DBName                 | string | 已授权数据库名称                                             |
| TableName              | string | 已授权数据表名称                                             |
| AccountPrivilegeDetail | string | 账号权限详情                                                 |

### ExtraPrivilegeObj

| 参数名    | 类型   | 说明                                                         |
| --------- | ------ | ------------------------------------------------------------ |
| AllCreate | string | 普通账号全局create权限，默认false，取值范围：["ture","false"] |

## 5.返回示例

```json
{
    "Code": "Success",
    "Data": [{
        "AccountDescription": "",
        "AccountName": "admin",
        "AccountStatus": "available",
        "AccountType": "Super",
        "DatabasePrivileges": null,
        "ExtraPrivilege": null,
        "ServiceId": "********************"
    }, {
        "AccountDescription": "",
        "AccountName": "pt",
        "AccountStatus": "available",
        "AccountType": "Normal",
        "DatabasePrivileges": [{
            "AccountPrivilegeDetail": "CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES, CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE",
            "AccountPrivilegeType": "DDLOnly",
            "DBName": "test",
            "TableName": "*"
        }],
        "ExtraPrivilege": {
            "AllCreate": "true"
        },
        "ServiceId": "********************"
    }],
    "Message": "success"
}
```

