---
title: 查询云数据库MySQL参数修改历史
date: 2022-03-07 17:00:00
permalink: /pages/1206099/
article: true
---


## 1.接口描述

**Action**：DescribeDBParameterModifyHistory

**描述**： 获取云数据库MySQL参数修改历史

**请求地址**： cdsapi.capitalonline.net/mysql

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明     |
| :----------- | :--- | :----- | :------- |
| InstanceUuid | 是   | string | 实例编号 |
| StartTime    | 是   | string | 开始时间 |
| EndTime      | 是   | string | 结束时间 |

## 3.请求示例

```python
def get_mysql_parameter_history():
    """
    获取MySQL参数修改历史
    """
    action = "DescribeDBParameterModifyHistory"
    method = "GET"
    param = {
        "InstanceUuid": "********************",
        "StartTime": "2022-02-01 17:16:08",
        "EndTime": "2022-02-18 17:16:08"
    }
    url = get_signature(action, AK, AccessKeySecret, method, MYSQL_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    result = json.dumps(result)  # json格式化
    print(result)
```

## 4.返回参数

| 参数名  | 类型                | 说明     |
| :------ | :------------------ | :------- |
| Message | string              | 信息描述 |
| Code    | string              | 状态码   |
| Data    | [DataObj](#dataobj) | 数据     |

### DataObj

| 参数名            | 类型   | 说明           |
| :---------------- | :----- | :------------- |
| IsValid           | bool   | 是否生效       |
| ModifyTime        | string | 变更时间       |
| ModifyRole        | string | 操作者         |
| OldParameterValue | string | 变更前的参数值 |
| NewParameterValue | string | 变更后的参数值 |
| StatusMessage     | string | 状态描述       |
| ParameterName     | string | 参数名         |

## 5.返回示例

```json
{
    "Code": "Success",
    "Data": [{
        "IsValid": ture,
        "ModifyRole": "用户",
        "ModifyTime": "2022-02-17 15:34:06",
        "NewParameterValue": "74.43",
        "OldParameterValue": "74.43",
        "ParameterName": "innodb_max_dirty_pages_pct",
        "StatusMessage": "已生效"
    }],
    "Message": "success"
}
```

