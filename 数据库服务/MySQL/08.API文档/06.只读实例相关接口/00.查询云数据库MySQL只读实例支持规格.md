---
title: 查询云数据库MySQL只读实例支持规格
date: 2022-07-20 17:00:00
permalink: /pages/1206075/
article: true
---


## 1.接口描述

**Action**：DescribeAvailableReadOnlyConfig

**描述**： 获取当前MySQL高可用实例支持购买的只读实例规格

**请求地址**： cdsapi.capitalonline.net/mysql

**请求方法**： GET

## 2.请求参数

| 参数名       | 必选 | 类型   | 说明     |
| :----------- | :--- | :----- | :------- |
| InstanceUuid | 是   | string | 实例编号 |

## 3.请求示例

```python
def get_mysql_modifiable_spec(instance_uuid):
    """
    获取当前MySQL实例支持的配置变更的规格
    :param instance_uuid: 实例编号
    :return:
    """
    action = "DescribeModifiableDBSpec"
    method = "GET"
    param = {
        "InstanceUuid": instance_uuid
    }
    url = get_signature(action, AK, AccessKeySecret, method, MYSQL_URL, param)
    res = requests.get(url)
    result = json.loads(res.content)
    print(result)
```

## 4.返回参数

| 参数名  | 类型                | 说明                                                   |
| ------- | ------------------- | ------------------------------------------------------ |
| Code    | string              | 状态码                                                 |
| Data    | [DataObj](#dataobj) | 可购买的MySQL只读实例规格数据对象                      |
| Message | string              | 返回调用接口状态信息和code相对应，比如：Success, Error |

#### DataObj

| 参数名           | 类型                                        | 说明                                                         |
| ---------------- | ------------------------------------------- | ------------------------------------------------------------ |
| ArchitectureName | string                                      | 架构名称                                                     |
| ComputeRoles     | list of [ComputeRolesObj](#computerolesobj) | 支持的计算类型，不同的计算类型支持不同规格，并支持添加不同类型的硬盘 |
| SubProductName   | string                                      | 子产品名称，比如：MySQL 只读实例                             |
| Version          | string                                      | 产品支持的版本                                               |

#### ComputeRolesObj

| 参数名      | 类型                        | 说明                        |
| ----------- | --------------------------- | --------------------------- |
| ComputeName | string                      | 计算类型名称， 比如：通用型 |
| Standards   | [StandardObj](#standardobj) | 该类型支持的规格            |

#### StandardObj

| 参数名     | 类型                                    | 说明                             |
| ---------- | --------------------------------------- | -------------------------------- |
| AttachDisk | list of [AttachDiskObj](#attachdiskobj) | 该类型规格能够添加的磁盘类型列表 |
| CpuRam     | list of [CpuRamObj](#cpuramobj)         | 支持的规格列表                   |

#### AttachDiskObj

| 参数名        | 类型   | 说明                                                         |
| ------------- | ------ | ------------------------------------------------------------ |
| BasicIops     | string | 基础的磁盘的iops                                             |
| DiskMax       | int    | 单次支持扩容到最大磁盘容量为2000                             |
| DiskMaxExpand | int    | 磁盘最大可扩容大小                                           |
| DiskMin       | int    | 磁盘容量支持的最小值，起步为100                              |
| DiskName      | string | 磁盘类型名称，包含SSD和性能型 SSD：SSD磁盘，磁盘IOPS默认为5000，可购买IOPS性能包 性能型：普通SSD盘，磁盘IOPS限定在3000 |
| DiskStep      | int    | 磁盘扩容步长，步长大小=100                                   |
| DiskUnit      | string | 磁盘容量单位：GB                                             |
| DiskValue     | string | 磁盘类型,用于创建服务实例指定磁盘类型 (创建服务时候使用      |

#### CpuRamObj

| 参数名      | 类型   | 说明                                           |
| ----------- | ------ | ---------------------------------------------- |
| CPU         | int    | 核心数量，单位：个                             |
| Name        | string | 规格名称                                       |
| PaasGoodsId | int    | 具体的产品编号，根据产品编号确定购买哪一种规格 |
| RAM         | int    | 内存大小，单位：GB                             |

## 5.返回示例

```json
{
    "Code": "Success",
    "Data": {
        "ArchitectureName": "主从",
        "ComputeRoles": [{
            "ComputeName": "通用型",
            "Standards": {
                "AttachDisk": [{
                    "BasicIops": "",
                    "DiskMax": 4000,
                    "DiskMaxExpand": 2000,
                    "DiskMin": 100,
                    "DiskName": "SSD",
                    "DiskStep": 100,
                    "DiskUnit": "G",
                    "DiskValue": "ssd_disk"
                }, {
                    "BasicIops": "",
                    "DiskMax": 4000,
                    "DiskMaxExpand": 2000,
                    "DiskMin": 100,
                    "DiskName": "性能型",
                    "DiskStep": 100,
                    "DiskUnit": "G",
                    "DiskValue": "high_disk"
                }],
                "CpuRam": [{
                    "CPU": 2,
                    "Name": "2C4G",
                    "PaasGoodsId": 15686,
                    "RAM": 4
                }, {
                    "CPU": 4,
                    "Name": "4C8G",
                    "PaasGoodsId": 15688,
                    "RAM": 8
                }, {
                    "CPU": 4,
                    "Name": "4C16G",
                    "PaasGoodsId": 15690,
                    "RAM": 16
                }, {
                    "CPU": 8,
                    "Name": "8C16G",
                    "PaasGoodsId": 15692,
                    "RAM": 16
                }, {
                    "CPU": 8,
                    "Name": "8C32G",
                    "PaasGoodsId": 15694,
                    "RAM": 32
                }, {
                    "CPU": 16,
                    "Name": "16C64G",
                    "PaasGoodsId": 15696,
                    "RAM": 64
                }]
            }
        }],
        "SubProductName": "MySQL 只读实例",
        "Version": "8.0"
    },
    "Message": "获取只读规格列表成功。"
}
```

